<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>הסניף הדיגיטלי</title>
<style>
  .clubgg-logo {
  width: 38px;
  vertical-align: middle;
  margin-left: 8px;
  border-radius: 8px;
}

  :root{
    --fg:#f7f7f2; --glass:rgba(0,0,0,.55); --glass-brd:rgba(255,255,255,.08);
    --accent:#22d3ee; --btn:#2b7bff;
  }
  body{
    font-family:'Heebo',system-ui;
    background:url('background.png') center/cover no-repeat fixed;
    color:var(--fg); margin:0; text-align:center;
  }
  .overlay{
    width:min(640px,94%); margin:110px auto 20px; padding:18px 14px 20px;
    background:var(--glass); border:1px solid var(--glass-brd);
    border-radius:18px; box-shadow:0 0 20px rgba(0,0,0,.4);
  }
  h1{ margin:6px 0 8px; font-size:1.95rem; line-height:1.1; }

  .section{
    background:rgba(0,0,0,.53); border:1px solid var(--glass-brd);
    border-radius:12px; padding:12px; margin:12px auto 0; text-align:right;
  }
  a{ color:var(--accent); font-weight:600; text-decoration:underline; }

  .club-code{ font-size:1.9rem; font-weight:800; }
  .copy-btn{ background:var(--btn); color:#fff; border:none; border-radius:6px; padding:6px 10px; cursor:pointer; }
  .copy-btn:hover{ background:#1b63e8; }

  .store-links{ display:flex; justify-content:center; gap:10px; margin-top:6px; }
  .store-links a{ background:rgba(255,255,255,.1); padding:4px 6px; border-radius:8px; transition:.2s; }
  .store-links a:hover{ transform:scale(1.05); background:rgba(255,255,255,.18); }
  .store-icon{ width:65px; opacity:.95; }

  .tiny-note{
  font-size:.86em;
  opacity:.92;
  margin-top:6px;
  text-align:center;
}
  footer{ margin-top:14px; font-weight:700; font-size:1.05rem; color:#ffdf91; }
  .footer-sub{ font-weight:500; font-size:.83rem; color:#ffe9b6; margin-top:6px; }

  /* ===== כפתורי טעינה ===== */
  .hint-top{ text-align:center; font-size:.95rem; opacity:.92; margin:4px 0 10px; }
  .pay-actions{
    display:flex; justify-content:center; align-items:flex-start; flex-wrap:wrap;
    gap:16px; margin:6px 0 6px;
  }
  .pay-btn{
    position:relative; display:inline-flex; flex-direction:column; align-items:center; gap:6px;
    padding:10px 12px; background:rgba(255,255,255,.08);
    border:1px solid rgba(255,255,255,.15); border-radius:14px;
    box-shadow:0 2px 8px rgba(0,0,0,.25);
    cursor:pointer; color:#fff; text-decoration:none;
    transition:transform .16s ease, background .16s ease, box-shadow .16s ease;
  }
  .pay-btn:hover{ transform:translateY(-1px); background:rgba(255,255,255,.14); box-shadow:0 6px 16px rgba(0,0,0,.28); }
  .pay-logo{ height:64px; width:auto; border-radius:12px; display:block; filter:brightness(1.03) contrast(1.03); }
  .pay-label{ font-size:.9rem; opacity:.9; }

  .pay-btn.busy::after{ content:""; position:absolute; inset:0; border-radius:inherit; background:rgba(0,0,0,.35); }
  .pay-btn.busy::before{
    content:""; position:absolute; top:50%; left:50%; width:16px; height:16px; margin:-8px 0 0 -8px;
    border:2px solid #fff; border-right-color:transparent; border-radius:50%; animation:spin .65s linear infinite;
  }
  @keyframes spin{ to{ transform:rotate(360deg);} }

  /* ===== מודלים ===== */
  .modal{
    position:fixed; inset:0; z-index:9999; display:flex; align-items:center; justify-content:center;
    opacity:0; visibility:hidden; pointer-events:none; background:rgba(0,0,0,0);
    transition: opacity .25s ease, visibility .25s ease, background .25s ease; backdrop-filter: blur(0px);
  }
  .modal.show{ opacity:1; visibility:visible; pointer-events:auto; background:rgba(0,0,0,.55); backdrop-filter: blur(4px); }
  .modal-box{
    background:rgba(1,59,51,.96); border:1px solid rgba(255,255,255,.15);
    width:min(380px,92%); color:#fff; text-align:center; padding:18px; border-radius:14px;
    box-shadow:0 10px 30px rgba(0,0,0,.35); transform:translateY(8px) scale(.98); opacity:0;
    transition: transform .28s cubic-bezier(.2,.7,.2,1), opacity .28s ease;
  }
  .modal.show .modal-box{ transform:translateY(0) scale(1); opacity:1; }
  .modal-box h3{ margin:0 0 8px; color:#ffdf91; font-size:1.2rem; }
  .modal-actions{ margin-top:10px; display:flex; justify-content:center; gap:8px; flex-wrap:wrap; }
  .btn{ border:none; border-radius:8px; padding:8px 14px; cursor:pointer; color:#fff; background:var(--btn); }
  .btn:hover{ background:#1b63e8; }
  .btn-ghost{ background:transparent; border:1px solid rgba(255,255,255,.3); }
  .btn-ghost:hover{ background:rgba(255,255,255,.1); }
  .input,.select{
    width:86%; padding:10px; border-radius:10px; border:none; text-align:center; font-size:1rem; outline:none;
    background:rgba(255,255,255,.15); color:#fff; display:block; margin:0 auto 8px;
  }
  .select{ cursor:pointer; }

  @media (max-width:420px){
    .pay-logo{ height:56px; }
    .pay-actions{ gap:12px; }
  }

  /* ===== משיכות ===== */
  .hours-pill{ display:inline-block; background:rgba(255,255,255,.10); border:1px solid rgba(255,255,255,.18);
    color:#fff; padding:6px 10px; border-radius:999px; font-size:.92rem; margin:0 0 10px 0; }
  .link-btn{ display:inline-block; text-decoration:none; color:#fff;
    background:linear-gradient(135deg,#0ea5e9,#2563eb); padding:10px 14px; border-radius:12px;
    font-weight:700; box-shadow:0 4px 14px rgba(0,0,0,.28);
    transition:transform .15s ease, box-shadow .15s ease, filter .15s ease;
  }
  .link-btn:hover{ transform:translateY(-1px); box-shadow:0 8px 22px rgba(0,0,0,.34); }
  .link-btn.disabled{ filter:grayscale(25%) brightness(.9); opacity:.85; }

  /* ===== תצוגת משמרת בצד שמאל למעלה ===== */
  .shift-indicator {
    position: fixed;
    top: 12px;
    left: 12px;
    display: flex;
    align-items: center;
    gap: 6px;
    background: rgba(0,0,0,.55);
    border: 1px solid rgba(255,255,255,.15);
    padding: 6px 10px;
    border-radius: 12px;
    box-shadow: 0 3px 10px rgba(0,0,0,.3);
    font-size: .9rem;
    z-index: 9999;
  }
  .shift-indicator img {
    width: 28px;
    height: 28px;
    border-radius: 6px;
  }
</style>
</head>
<body>
  <!-- תצוגת משמרת -->
  <div class="shift-indicator">
    <img src="shift.png" alt="משמרת" id="shiftIcon">
    <span id="shiftName">...</span>
  </div>

  <div class="overlay">
    <!-- (תוכן קיים, לא שונה) -->
    <!-- ... -->
  </div>

<script>
  /* ===== נתונים בסיסיים ===== */
  const PHONES = {
    "מאור":"972546819166",
    "עידו":"972559877777"
  };
  const STARTER_FOR_EVEN_DAY = "מאור";
  const STARTER_FOR_ODD_DAY  = "עידו";
  const ENFORCE_WITHDRAW_RULES = false;

  function nowIL(){
    const d=new Date();
    const parts=new Intl.DateTimeFormat("he-IL",{timeZone:"Asia/Jerusalem",hour12:false,hour:"2-digit",minute:"2-digit",weekday:"short"}).formatToParts(d);
    const get=t=>parts.find(x=>x.type===t)?.value;
    const h=+get("hour"), m=+get("minute"), wd=get("weekday");
    const map={"יום א׳":0,"יום ב׳":1,"יום ג׳":2,"יום ד׳":3,"יום ה׳":4,"יום ו׳":5,"יום ש׳":6,"יום שבת":6};
    return { day: map[wd] ?? d.getDay(), minutes: h*60 + m };
  }

  function currentShiftOwner(){
    const n = nowIL();
    const shiftIndex = Math.floor(n.minutes / 180);
    const dayStarter = (n.day % 2 === 0) ? STARTER_FOR_EVEN_DAY : STARTER_FOR_ODD_DAY;
    const other = (dayStarter === "מאור") ? "עידו" : "מאור";
    return (shiftIndex % 2 === 0) ? dayStarter : other;
  }

  // מציג את מי במשמרת בפינה
  function updateShiftIndicator(){
    const name = currentShiftOwner();
    document.getElementById("shiftName").textContent = `במשמרת: ${name}`;
  }
  updateShiftIndicator();
  setInterval(updateShiftIndicator, 180000); // כל 3 דקות

  function copyText(t){ navigator.clipboard.writeText(t); alert("הועתק!"); }
</script>
</body>
</html>
